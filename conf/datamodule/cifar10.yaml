# ================================================================================
# CIFAR-10 Dataset Configuration
#
# Configures OmniFed DataModule for CIFAR-10 object classification.
# Uses torchvision dataset with standard normalization and data augmentation.
#
# Docs:
# - https://pytorch.org/vision/stable/generated/torchvision.datasets.CIFAR10.html
# - https://www.cs.toronto.edu/~kriz/cifar.html
# ================================================================================

defaults:
  - base
  - _self_

# ─────────────────────────────────────────
# Training Data
# ─────────────────────────────────────────
train:
  dataset:
    _target_: torchvision.datasets.CIFAR10
    root: ${oc.env:OMNIFED_DATA_DIR,/tmp}/cifar10
    train: true # Use training set
    # target_transform: null  # Optional transform for targets
    download: true
    transform:
      _target_: torchvision.transforms.Compose
      transforms:
        - _target_: torchvision.transforms.ToTensor
        - _target_: torchvision.transforms.RandomHorizontalFlip
          p: 0.5
        - _target_: torchvision.transforms.RandomCrop
          size: 32
          padding: 4
        - _target_: torchvision.transforms.Normalize
          mean: [0.49139968, 0.48215841, 0.44653091] # CIFAR-10 specific mean
          std: [0.24703223, 0.24348513, 0.26158784] # CIFAR-10 specific std

# ─────────────────────────────────────────
# Evaluation Data
# ─────────────────────────────────────────
eval:
  dataset:
    _target_: torchvision.datasets.CIFAR10
    root: ${oc.env:OMNIFED_DATA_DIR,/tmp}/cifar10
    train: false # Use test set
    # target_transform: null  # Optional transform for targets
    download: true
    transform:
      _target_: torchvision.transforms.Compose
      transforms:
        - _target_: torchvision.transforms.ToTensor
        - _target_: torchvision.transforms.Normalize
          mean: [0.49139968, 0.48215841, 0.44653091] # CIFAR-10 specific mean
          std: [0.24703223, 0.24348513, 0.26158784] # CIFAR-10 specific std
